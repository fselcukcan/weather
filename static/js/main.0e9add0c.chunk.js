(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.658f99fd.svg"},function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),l=(n(13),n(2)),i=n.n(l),s=n(3),u=n(1),d=n(7),p=n.n(d),m=(n(15),n(4)),f={OPENCAGEDATA_API_KEY:"7a467f058a5a4027a6dda76056341592",WEATHERBIT_API_KEY:"65a5936960f148fe8f2683ba60829f71"},v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},E=function(e){var t=e.children,n=Object(m.c)(),a=n.onClick,c=n.isActive;return r.a.createElement("button",{onClick:a,className:v("tab",c&&"active")},t)},w=function(e){var t=e.children;return Object(m.b)()?r.a.createElement("div",null,t):null},h=function(e){var t=e.coords,n=Object(a.useState)(),c=Object(u.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(t){var n,a,r,c,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:f.WEATHERBIT_API_KEY,e.prev=1,a=t.lat,r=t.lng,e.next=5,fetch("https://api.weatherbit.io/v2.0/current?lat=".concat(a,"&lon=").concat(r,"&key=").concat(n));case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Network response was not ok.");case 8:return e.next=10,c.json();case 10:o=e.sent,l(o.data[0]),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}t&&function(t){e.apply(this,arguments)}(t)}),[t]),r.a.createElement("div",null,o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,o.temp," Celcius"),r.a.createElement("div",null,"feels like ",o.app_temp," Celcius"),r.a.createElement("div",null,o.weather.description),r.a.createElement("div",null,"clouds: ",o.clouds,"%"),r.a.createElement("div",{title:"Accumulated snowfall"},"snowfall: ",o.snow," mm"),r.a.createElement("div",{title:"Accumulated liquid equivalent precipitation"},"precipitation: ",o.precip," mm"),r.a.createElement("div",null,"wind direction: ",o.wind_cdir_full),r.a.createElement("div",null,"wind speed: ",o.wind_spd," m/s"),r.a.createElement("div",null,"pressure: ",o.pres),r.a.createElement("div",null,"observation time: ",o.ob_time)))},b=function(e){var t=e.coords,n=e.days,c=Object(a.useState)(),o=Object(u.a)(c,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(t){var a,r,c,o,l,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:f.WEATHERBIT_API_KEY,e.prev=1,r=t.lat,c=t.lng,e.next=5,fetch("https://api.weatherbit.io/v2.0/forecast/daily?lat=".concat(r,"&lon=").concat(c,"&days=").concat(n,"&key=").concat(a));case 5:if((o=e.sent).ok){e.next=8;break}throw new Error("Network response was not ok.");case 8:return e.next=10,o.json();case 10:l=e.sent,d(l),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}t&&function(t){e.apply(this,arguments)}(t)}),[t,n]),r.a.createElement("div",null,l&&l.data.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h3",null,e.valid_date),r.a.createElement("div",null,e.temp," Celcius"),r.a.createElement("div",null,"max/min: ",e.max_temp,"/",e.min_temp," Celcius"),r.a.createElement("div",null,"feels like max/min ",e.app_max_temp,"/",e.app_min_temp," Celcius"),r.a.createElement("div",null,e.weather.description),r.a.createElement("div",null,"clouds: ",e.clouds,"%"),r.a.createElement("div",{title:"Accumulated snowfall"},e.snow," mm"),r.a.createElement("div",null,"snow depth: ",e.snow_depth," mm"),r.a.createElement("div",null,"probability of precipitation: ",e.pop," %"),r.a.createElement("div",{title:"Accumulated liquid equivalent precipitation"},"precipitation: ",e.precip," mm"),r.a.createElement("div",null,"wind direction: ",e.wind_cdir_full),r.a.createElement("div",null,"wind speed: ",e.wind_spd," m/s"),r.a.createElement("div",null,"pressure: ",e.pres," mb (milibar)"),r.a.createElement("div",null,"wind direction: ",e.wind_cdir_full),r.a.createElement("div",null,"wind speed: ",e.wind_spd," m/s"))})))};var k=function(e){var t=e.coords,n=Object(a.useState)(""),c=Object(u.a)(n,2),o=c[0],l=c[1],d=Object(a.useState)(),p=Object(u.a)(d,2),m=p[0],v=p[1],E=Object(a.useState)(""),w=Object(u.a)(E,2),h=w[0],b=w[1];function k(){return(k=Object(s.a)(i.a.mark((function e(n){var a,r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),a=t.lat,r=t.lng,e.next=5,fetch("https://api.weatherbit.io/v2.0/history/daily?lat=".concat(a,"&lon=").concat(r,"&start_date=").concat(o,"&end_date=").concat(h,"&key=").concat(f.WEATHERBIT_API_KEY));case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Network response was not ok.");case 8:return e.next=10,c.json();case 10:l=e.sent,v(l.data[0]),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t)}(o,1);b(function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}(e))}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){return k.apply(this,arguments)}},r.a.createElement("input",{type:"date",value:o,onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Submit"})),r.a.createElement("div",null,m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,m.temp," Celcius"),r.a.createElement("div",null,"max/min: ",m.max_temp,"/",m.min_temp," Celcius"),r.a.createElement("div",{title:"[Satellite based] average cloud coverage"},"clouds: ",m.clouds,"%"),r.a.createElement("div",{title:"Accumulated snowfall"},"snowfall: ",m.snow," mm"),r.a.createElement("div",null,"snow depth: ",m.snow_depth," mm"),r.a.createElement("div",{title:"Accumulated liquid equivalent precipitation"},"precipitation: ",m.precip," mm"),r.a.createElement("div",null,"wind speed: ",m.wind_spd," m/s"),r.a.createElement("div",null,"pressure: ",m.pres," mb (milibar)"))))};var g=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://restcountries.eu/rest/v2/all");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok.");case 6:return e.next=8,t.json();case 8:n=e.sent,c(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var o=Object(a.useState)(""),l=Object(u.a)(o,2),d=l[0],v=l[1],g=Object(a.useState)(),j=Object(u.a)(g,2),y=j[0],_=j[1];Object(a.useEffect)((function(){if(d){var e=n.find((function(e){return e.name===d}));_(e.capital)}}),[d,n]);var x=Object(a.useState)(),O=Object(u.a)(x,2),A=O[0],S=O[1];return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(t,n){var a,r,c,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:f.OPENCAGEDATA_API_KEY,e.prev=1,e.next=4,fetch("https://api.opencagedata.com/geocode/v1/json?q=".concat(t,",").concat(n,"&key=").concat(a));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Network response was not ok.");case 7:return e.next=9,r.json();case 9:c=e.sent,S(function(e){return e.results[0].geometry}(c)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}y&&d&&function(t,n){e.apply(this,arguments)}(y,d)}),[y,d]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Select a country to get the weather data of today, this week, or a past date on coordinates of its capital city."),r.a.createElement("select",{value:d,onChange:function(e){return v(e.target.value)},className:"country-select"},r.a.createElement("option",{value:"",disabled:!0},"Select a country"),n.map((function(e,t){return r.a.createElement("option",{value:e.name,key:t},e.name)}))),r.a.createElement("div",null,y),A&&r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(E,null,"Today"),r.a.createElement(E,null,"This week"),r.a.createElement(E,null,"Past")),r.a.createElement(w,null,r.a.createElement(h,{coords:A})),r.a.createElement(w,null,r.a.createElement(b,{coords:A,days:7})),r.a.createElement(w,null,r.a.createElement(k,{coords:A})))))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(g,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/weather",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/weather","/service-worker.js");j?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):y(t,e)}))}}()}],[[8,1,2]]]);
//# sourceMappingURL=main.0e9add0c.chunk.js.map